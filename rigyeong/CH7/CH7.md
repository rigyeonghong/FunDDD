# 도메인 서비스

## 7.1 여러 애그리거트가 필요한 기능

* 한 애그리거트로 기능 구현 불가할 때 존재.
	* ex. 결제 금액 계산 로직
* 한 애그리거트에 넣기 애매한 도메인 기능을 억지로 특정 애그리거트에 구현하면 안됨. 
	➡️자신의 책임 범위를 넘어선 기능 구현, 외부 의존도 높아짐, 코드 복잡도 증가
➡️ 해결 ) 도메인 기능을 별도 서비스로 구현

## 7.2 도메인 서비스

* 도메인 서비스 : 도메인 영역에 위치한 도메인 로직 표현시 사용.
	* ex1. 계산 로직
	* ex2. 외부 시스템 연동 필요한 도메인 로직

#### 7.2.1 계산 로직과 도메인 서비스
* 도메인 서비스 
	* 상태 없이 로직만 구현. 
	* 도메인 개념 명시적으로 드러냄.
		* ex. 도메인 의미 드러나는 용어를 타입, 메서드 이름으로 가짐.
	* 구현시 필요한 상태는 다른 방법으로 전달받음.
	* 응용 로직 수행하지 않음. ex. 트랜잭션 처리.
	* 애그리거트 상태 변경하거나 애그리거트의 상태 값 변경시, 도메인 로직.
	* 도메인 로직이면서 한 애그리거트에 넣기 적합하지 않을 때 구현.

* 도메인 서비스 사용 주체
	* 애그리거트 : 애그리거트 객체에 도메인 서비스 전달. ex. 할인 포함 결제 금액 계산
	* 응용서비스 : 도메인 서비스 기능 실행시 애그리거트 전달. ex. 계좌 이체
	* 도메인 서비스 객체를 애그리거트에 주입하지 말자!!

#### 7.2.2 외부 시스템 연동과 도메인 서비스
* 도메인 서비스 : 외부 시스템, 타 도메인과 연동 기능
	* ex. 설문조사 시스템, 사용자 역할 관리 시스템 
		: 설문 조사 도메인 입장에서 사용자가 설문조사 생성 권한 가졌는지 확인하는 도메인 로직.
		➡️ 도메인 로직 관점에서 인터페이스 작성 








Q. 도메인 서비스 객체를 애그리거트에 주입하지 않기?! 스프링 DI, AOP?!
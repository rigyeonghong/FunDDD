# 도메인 모델과 바운디드 컨텍스트

## 9.1 도메인 모델과 경계

* 한 개의 모델로 여러 하위 도메인 표현시 오히려 맞지 않는 모델 생성됨. ➡️ 하위 도메인마다 모델 생성
	* ex. 상품) 카탈로그의 상품, 재고관리의 상품, 주문의 상품, 배송의 상품

* 바운디드 컨텍스트 : 모델은 특정 컨텍스트 하에 완전한 의미를 갖기에, 구분되는 경계를 갖는 컨텍스트.

## 9.2 바운디드 컨텍스트

* 바운디드 컨텍스트 : 모델의 경계 결정하며 한 개의 바운디드 컨텍스트는 한 개의 모델 갖음. 용어 기준.  ➡️ 구현 하위 도메인에 알맞은 모델 포함.
	* ex1.하나의 하위 도메인에 여러 바운디드 컨텍스트 존재
	* ex2. 여러 하위 도메인을 하나의 바운디드 컨텍스트에서 개발 : 구분 패키지 필요.

## 9.3 바운디드 컨텍스트 구현

* ex1.바운디드 컨텍스트에 표현 영역, 응용 서비스, 인프라스트럭처, 테이블 포함해서 구현.
* ex2.복잡한 도메인 로직 필요x 때 : DAO와 데이터 중심 벨류 객체 이용해서만 구현.
* ex1 + ex2 : CQRS
	* 각 바운디드 컨텍스트 서로 다른 구현 기술 사용 가능.
	* 반드시 UI 필요하지 않음

## 9.4 바운디드 컨텍스트 간 통합

* 직접 통합
	* 도메인 서비스 구현 클래스는 인프라스트럭처 영역에 위치 : **외부 시스템과의 연동 처리 및 외부시스템의 모델과 현재 도메인 모델 간의 변화 책임**
* 간접 통합
	* 메시지 큐 사용.

* 마이크로 서비스와 바운디드 컨텍스트
	* 바운디드 컨텍스트를 마이크로서비스로 구현하며 자연스레 컨텍스트별로 모델 분리됨.
	* 바운디드 컨텍스트마다 프로젝트 생성.
	* 독립 배포, 모니터링 및 확장의 장점

## 9.5 바운디드 컨트 간 관계

* 고객/공급자 관계
	* 호스트 서비스 : 고객이 다수 존재시, 여러 고객의 요구사항 수용하는 API 생성 후 서비스 형태로 공개. ex. 검색
		* 안티코럽션 계층 : 공급자의 도메인 모델이 고객의 도메인 모델에 영향 주지 않도록 보호해주는 완충 지대

* 공유 커널 : 두 바운디드 컨텍스트가 공유하는 같은 모델.

* 독립 방식 : 서로 통합하지 않고 독립적으로 모델 발전시키는 것.
	* 수동 통합과 통합 시스템

## 9.6 컨텍스트 맵

* 바운디드 컨텍스트 간의 관계 표시해 시스템 전체 구조 보여줌.